{"ast":null,"code":"const WIDTH = 640;\nconst HEIGHT = 480;\nexport default function sketch(p) {\n  let canvas;\n  let image;\n\n  p.setup = () => {\n    image = p.createImage(WIDTH, HEIGHT);\n    canvas = p.createCanvas(WIDTH, HEIGHT);\n    p.noStroke();\n    p.background(0);\n  };\n\n  p.mousePressed = () => {\n    console.log(p.get(p.mouseX, p.mouseY));\n  };\n\n  p.draw = () => {\n    if (image) p.image(image, 0, 0, WIDTH, HEIGHT);\n  };\n\n  p.myCustomRedrawAccordingToNewPropsHandler = newProps => {\n    if (canvas) p.fill(newProps.color);\n  };\n\n  p.keyPressed = () => {\n    if (p.keyCode == 76) {\n      const px = JSON.parse(window.localStorage.getItem('map'));\n      const image1 = p.get(0, 0, WIDTH, HEIGHT);\n      image1.loadPixels();\n\n      for (var i = 0; i < image1.pixels.length; i += 4) {\n        const startIndex = Math.floor(i / 4);\n        image1.pixels[i] = px[startIndex][0];\n        image1.pixels[i + 1] = px[startIndex][1];\n        image1.pixels[i + 2] = px[startIndex][2];\n      }\n\n      image1.updatePixels();\n      image = image1;\n    }\n  };\n}","map":{"version":3,"sources":["/home/caner/Desktop/selfcar/src/components/game-sketch.js"],"names":["WIDTH","HEIGHT","sketch","p","canvas","image","setup","createImage","createCanvas","noStroke","background","mousePressed","console","log","get","mouseX","mouseY","draw","myCustomRedrawAccordingToNewPropsHandler","newProps","fill","color","keyPressed","keyCode","px","JSON","parse","window","localStorage","getItem","image1","loadPixels","i","pixels","length","startIndex","Math","floor","updatePixels"],"mappings":"AAAA,MAAMA,KAAK,GAAG,GAAd;AACA,MAAMC,MAAM,GAAG,GAAf;AACA,eAAe,SAASC,MAAT,CAAgBC,CAAhB,EAAkB;AAC/B,MAAIC,MAAJ;AACA,MAAIC,KAAJ;;AACAF,EAAAA,CAAC,CAACG,KAAF,GAAU,MAAM;AACdD,IAAAA,KAAK,GAAGF,CAAC,CAACI,WAAF,CAAcP,KAAd,EAAqBC,MAArB,CAAR;AACAG,IAAAA,MAAM,GAAGD,CAAC,CAACK,YAAF,CAAeR,KAAf,EAAsBC,MAAtB,CAAT;AACAE,IAAAA,CAAC,CAACM,QAAF;AACAN,IAAAA,CAAC,CAACO,UAAF,CAAa,CAAb;AACD,GALD;;AAMAP,EAAAA,CAAC,CAACQ,YAAF,GAAiB,MAAM;AACrBC,IAAAA,OAAO,CAACC,GAAR,CAAYV,CAAC,CAACW,GAAF,CAAMX,CAAC,CAACY,MAAR,EAAgBZ,CAAC,CAACa,MAAlB,CAAZ;AACD,GAFD;;AAGAb,EAAAA,CAAC,CAACc,IAAF,GAAS,MAAM;AACb,QAAIZ,KAAJ,EACEF,CAAC,CAACE,KAAF,CAAQA,KAAR,EAAc,CAAd,EAAgB,CAAhB,EAAkBL,KAAlB,EAAwBC,MAAxB;AACH,GAHD;;AAIAE,EAAAA,CAAC,CAACe,wCAAF,GAA8CC,QAAD,IAAc;AACzD,QAAGf,MAAH,EACED,CAAC,CAACiB,IAAF,CAAOD,QAAQ,CAACE,KAAhB;AACH,GAHD;;AAIAlB,EAAAA,CAAC,CAACmB,UAAF,GAAe,MAAM;AACnB,QAAInB,CAAC,CAACoB,OAAF,IAAa,EAAjB,EAAoB;AAChB,YAAMC,EAAE,GAAGC,IAAI,CAACC,KAAL,CAAWC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,KAA5B,CAAX,CAAX;AACA,YAAMC,MAAM,GAAG3B,CAAC,CAACW,GAAF,CAAM,CAAN,EAAS,CAAT,EAAYd,KAAZ,EAAmBC,MAAnB,CAAf;AACA6B,MAAAA,MAAM,CAACC,UAAP;;AACA,WAAI,IAAIC,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGF,MAAM,CAACG,MAAP,CAAcC,MAAjC,EAAyCF,CAAC,IAAI,CAA9C,EAAgD;AAC9C,cAAMG,UAAU,GAAGC,IAAI,CAACC,KAAL,CAAWL,CAAC,GAAC,CAAb,CAAnB;AACAF,QAAAA,MAAM,CAACG,MAAP,CAAcD,CAAd,IAAmBR,EAAE,CAACW,UAAD,CAAF,CAAe,CAAf,CAAnB;AACAL,QAAAA,MAAM,CAACG,MAAP,CAAcD,CAAC,GAAC,CAAhB,IAAqBR,EAAE,CAACW,UAAD,CAAF,CAAe,CAAf,CAArB;AACAL,QAAAA,MAAM,CAACG,MAAP,CAAcD,CAAC,GAAC,CAAhB,IAAqBR,EAAE,CAACW,UAAD,CAAF,CAAe,CAAf,CAArB;AACH;;AACDL,MAAAA,MAAM,CAACQ,YAAP;AACAjC,MAAAA,KAAK,GAACyB,MAAN;AACD;AACF,GAdD;AAeD","sourcesContent":["const WIDTH = 640;\nconst HEIGHT = 480;\nexport default function sketch(p){\n  let canvas;\n  let image;\n  p.setup = () => {\n    image = p.createImage(WIDTH, HEIGHT);\n    canvas = p.createCanvas(WIDTH, HEIGHT);\n    p.noStroke();\n    p.background(0);\n  }\n  p.mousePressed = () => {\n    console.log(p.get(p.mouseX, p.mouseY));\n  }\n  p.draw = () => {\n    if (image)\n      p.image(image,0,0,WIDTH,HEIGHT);\n  }\n  p.myCustomRedrawAccordingToNewPropsHandler = (newProps) => {\n    if(canvas)\n      p.fill(newProps.color);\n  }\n  p.keyPressed = () => {\n    if (p.keyCode == 76){\n        const px = JSON.parse(window.localStorage.getItem('map'));\n        const image1 = p.get(0, 0, WIDTH, HEIGHT);\n        image1.loadPixels();\n        for(var i = 0; i < image1.pixels.length; i += 4){\n          const startIndex = Math.floor(i/4);\n          image1.pixels[i] = px[startIndex][0];\n          image1.pixels[i+1] = px[startIndex][1];\n          image1.pixels[i+2] = px[startIndex][2];\n      }\n      image1.updatePixels();\n      image=image1;\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}