{"ast":null,"code":"const WIDTH = 640;\nconst HEIGHT = 480;\n\nclass Car {\n  constructor() {\n    this.x = 50;\n    this.y = 50;\n    this.height = 25;\n    this.width = 40;\n    this.speed = 0;\n    this.maxSpeed = 10;\n    this.acceleration = 1;\n\n    this.speedUp = () => {\n      this.speed = Math.min(maxSpeed, this.speed += this.acceleration);\n    };\n\n    this.speedDown = () => {\n      this.speed = Math.min(0, this.speed -= this.acceleration);\n    };\n\n    this.steerLeft = () => {};\n\n    this.steerRight = () => {};\n\n    this.update = () => {\n      this.x += this.x + this.speed;\n      this.y += this.y + this.speed;\n    };\n  }\n\n}\n\n;\nexport default function sketch(p) {\n  let canvas;\n  let image;\n  const car = new Car();\n\n  p.setup = () => {\n    image = p.createImage(WIDTH, HEIGHT);\n    canvas = p.createCanvas(WIDTH, HEIGHT);\n    p.noStroke();\n    p.background(0);\n  };\n\n  p.mousePressed = () => {\n    console.log(p.get(p.mouseX, p.mouseY));\n  };\n\n  p.draw = () => {\n    if (image) {\n      p.image(image, 0, 0, WIDTH, HEIGHT);\n    }\n\n    p.translate(car.x, car.y);\n    p.fill(150, 100, 200);\n    p.rect(car.width / 2, car.height / 2, car.width, car.height);\n    p.fill(150, 150, 150);\n    p.rect(42, 18, 10, 15);\n    p.fill('black');\n    p.rect(56, 12, 4, 4);\n    p.rect(56, 34, 4, 4);\n  };\n\n  p.update = () => {\n    car.update();\n  };\n\n  p.myCustomRedrawAccordingToNewPropsHandler = newProps => {\n    if (canvas) p.fill(newProps.color);\n  };\n\n  p.keyPressed = () => {\n    if (p.keyCode === 38) {\n      car.speedUp();\n    } else if (p.keyCode === 40) {\n      car.speedDown();\n    } else if (p.keyCode === 37) {\n      car.steerLeft();\n    } else if (p.keyCode === 39) {\n      car.steerRight();\n    } else if (p.keyCode == 76) {\n      const px = JSON.parse(window.localStorage.getItem('map'));\n      const image1 = p.get(0, 0, WIDTH, HEIGHT);\n      image1.loadPixels();\n\n      for (var i = 0; i < image1.pixels.length; i += 4) {\n        const startIndex = Math.floor(i / 4);\n        image1.pixels[i] = px[startIndex][0];\n        image1.pixels[i + 1] = px[startIndex][1];\n        image1.pixels[i + 2] = px[startIndex][2];\n      }\n\n      image1.updatePixels();\n      image = image1;\n    }\n  };\n}","map":{"version":3,"sources":["/home/caner/Desktop/selfcar/src/components/game-sketch.js"],"names":["WIDTH","HEIGHT","Car","x","y","height","width","speed","maxSpeed","acceleration","speedUp","Math","min","speedDown","steerLeft","steerRight","update","sketch","p","canvas","image","car","setup","createImage","createCanvas","noStroke","background","mousePressed","console","log","get","mouseX","mouseY","draw","translate","fill","rect","myCustomRedrawAccordingToNewPropsHandler","newProps","color","keyPressed","keyCode","px","JSON","parse","window","localStorage","getItem","image1","loadPixels","i","pixels","length","startIndex","floor","updatePixels"],"mappings":"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","sourcesContent":["const WIDTH = 640;\nconst HEIGHT = 480;\nclass Car{\n  x = 50;\n  y = 50;\n  height = 25;\n  width = 40;\n  speed = 0;\n  maxSpeed = 10;\n  acceleration = 1;\n  speedUp = () => {\n    this.speed = Math.min(maxSpeed, this.speed += this.acceleration);\n  };\n  speedDown = () => {\n    this.speed = Math.min(0, this.speed -= this.acceleration);\n  };\n  steerLeft = () => {}\n  steerRight = () => {}\n  update = () => {\n    this.x += this.x + this.speed;\n    this.y += this.y + this.speed;\n  };\n};\nexport default function sketch(p){\n  let canvas;\n  let image;\n  const car = new Car();\n\n  p.setup = () => {\n    image = p.createImage(WIDTH, HEIGHT);\n    canvas = p.createCanvas(WIDTH, HEIGHT);\n    p.noStroke();\n    p.background(0);\n  }\n  p.mousePressed = () => {\n    console.log(p.get(p.mouseX, p.mouseY));\n  }\n  p.draw = () => {\n    if (image){\n      p.image(image,0,0,WIDTH,HEIGHT);\n    }\n    p.translate(car.x, car.y);\n    p.fill(150,100,200);\n    p.rect(car.width / 2, car.height / 2, car.width, car.height);\n    p.fill(150,150,150);\n    p.rect(42,18,10,15);\n    p.fill('black');\n    p.rect(56,12,4,4);\n    p.rect(56,34,4,4);\n  }\n  p.update = () => {\n    car.update();\n  };\n  p.myCustomRedrawAccordingToNewPropsHandler = (newProps) => {\n    if(canvas)\n      p.fill(newProps.color);\n  }\n  p.keyPressed = () => {\n    if (p.keyCode === 38){\n      car.speedUp();\n    }\n    else if (p.keyCode === 40){\n      car.speedDown();\n    }\n    else if (p.keyCode === 37){\n      car.steerLeft();\n    }\n    else if (p.keyCode === 39){\n      car.steerRight();\n    }\n    else if(p.keyCode == 76){\n        const px = JSON.parse(window.localStorage.getItem('map'));\n        const image1 = p.get(0, 0, WIDTH, HEIGHT);\n        image1.loadPixels();\n        for(var i = 0; i < image1.pixels.length; i += 4){\n          const startIndex = Math.floor(i/4);\n          image1.pixels[i] = px[startIndex][0];\n          image1.pixels[i+1] = px[startIndex][1];\n          image1.pixels[i+2] = px[startIndex][2];\n      }\n      image1.updatePixels();\n      image=image1;\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}